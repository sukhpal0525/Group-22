<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="UTF-8" />
    <title>Orders Summary</title>
    <link rel="stylesheet" type="text/css" href="/css/global.css" />
    <link rel="stylesheet" type="text/css" href="/css/adminglobal.css" />
    <link rel="stylesheet" type="text/css" href="/css/adminanalytics.css" />
  </head>
  <body>
    <div th:replace="fragments/nav_bar :: header"></div>

    <div class="pagegrid">
      <div class="sidepanel">
        <div class="dashpages">
          <h6 id="current"><a th:href="@{/admin/dashboard}">Dashboard</a></h6>

          <br />
          <br />
          <br />

          <h4>ADMIN PAGES</h4>
          <p><a th:href="@{/admin/products}">View Products</a></p>
          <p><a th:href="@{/admin/products/new}">Add Product</a></p>
          <p><a th:href="@{/admin/all-orders}">View Orders</a></p>
          <p><a th:href="@{/report/add}">Generate Report</a></p>
          <p><a th:href="@{/admin/orders}">Analytics</a></p>

          <br />
          <br />
          <br />

          <h4>CUSTOMER PAGES</h4>
          <p><a th:href="@{/home}" class="active">Home</a></p>
          <p><a th:href="@{/products}">Products</a></p>
          <p><a th:href="@{/aboutus}">About Us</a></p>
          <p><a th:href="@{/contactus}">Contact Us</a></p>
        </div>

        <div class="logout">
          <h6><a th:href="@{/basket}">Basket</a></h6>
          <h6 th:unless="${#request.userPrincipal == null}">
            <a
              href="javascript:;"
              onclick="document.getElementById('logoutForm').submit();"
              role="menuitem"
              >Logout</a
            >
          </h6>
        </div>
      </div>

      <div class="pagecontent">
        <div class="analyticstitle">
          <h4>Analytics</h4>
        </div>
        <div class="analyticrow1">
          <div class="leftlarge" id="box">
            <p>test</p>
          </div>
          <div class="rightsmall" id="box">
            <div class="cardtitle">
              <h5>ORDERS</h5>
            </div>
            <div class="cardstats">
              <div class="cardtb">
                <div class="stattime">
                  <p>Daily</p>
                </div>
                <div class="statfigure">
                  <p th:text="${#lists.size(dayOrders)}"></p>
                </div>
              </div>
              <div class="cardtb">
                <div class="stattime">
                  <p>Weekly</p>
                </div>
                <div class="statfigure">
                  <p th:text="${#lists.size(weekOrders)}"></p>
                </div>
              </div>
            </div>
            <div class="cardtb">
              <div class="stattime">
                <p>Monthly</p>
              </div>
              <div class="statfigure">
                <p th:text="${#lists.size(monthOrders)}"></p>
              </div>
            </div>
            <div class="cardtb">
              <div class="stattime">
                <p>Yearly</p>
              </div>
              <div class="statfigure">
                <p th:text="${#lists.size(yearOrders)}"></p>
              </div>
            </div>
            <div class="cardtb">
              <div class="stattime">
                <p>All</p>
              </div>
              <div class="statfigure">
                <p th:text="${#lists.size(allOrders)}"></p>
              </div>
            </div>
          </div>
        </div>
        <div class="analyticrow2">
          <div class="leftsmall" id="box"></div>
          <div class="rightlarge" id="box">
            <p>test</p>
          </div>
        </div>

        <div class="analyticrow3">
          <div class="leftlarge" id="box">
            <p>test</p>
          </div>
          <div class="rightsmall" id="box">
            <p>test</p>
          </div>
        </div>
      </div>
    </div>

    <div th:replace="fragments/footer :: footer"></div>

    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-12">
          <h2>Orders Summary</h2>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Time Period</th>
                <th>Total Orders</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Daily</td>
                <td th:text="${#lists.size(dayOrders)}"></td>
                <!--          <td th:text="${'&pound;' + #aggregates.sum(dayOrders.![orderAmount])}"></td>-->
              </tr>
              <tr>
                <!--          ${#numbers.formatDecimal(#aggregates.sum(weekOrders.![orderAmount]), 0, 'COMMA', 2, 'POINT')}-->
                <td>Weekly</td>
                <td th:text="${#lists.size(weekOrders)}"></td>
                <!--          <td th:text="${'&pound;' + #aggregates.sum(weekOrders.![orderAmount])}"></td>-->
              </tr>
              <tr>
                <td>Monthly</td>
                <td th:text="${#lists.size(monthOrders)}"></td>
                <!--          <td th:text="${'&pound;' + #aggregates.sum(monthOrders.![orderAmount])}"></td>-->
              </tr>
              <tr>
                <td>Yearly</td>
                <td th:text="${#lists.size(yearOrders)}"></td>
                <!--          <td th:text="${'&pound;' + #aggregates.sum(yearOrders.![orderAmount])}"></td>-->
              </tr>
              <tr>
                <td>All</td>
                <td th:text="${#lists.size(allOrders)}"></td>
                <!--          <td th:text="${'&pound;' + #aggregates.sum(allOrders.![orderAmount])}"></td>-->
              </tr>
            </tbody>
          </table>

          <h2>Profit Summary</h2>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Time Period</th>
                <th>Total Profits</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Daily</td>
                <td
                  th:text="${'&pound;' + #aggregates.sum(dayOrders.![orderAmount])}"
                ></td>
              </tr>
              <tr>
                <td>Weekly</td>
                <td
                  th:text="${'&pound;' + #aggregates.sum(weekOrders.![orderAmount])}"
                ></td>
              </tr>
              <tr>
                <td>Monthly</td>
                <td
                  th:text="${'&pound;' + #aggregates.sum(monthOrders.![orderAmount])}"
                ></td>
              </tr>
              <tr>
                <td>Yearly</td>
                <td
                  th:text="${'&pound;' + #aggregates.sum(yearOrders.![orderAmount])}"
                ></td>
              </tr>
              <tr>
                <td>All</td>
                <td
                  th:text="${'&pound;' + #aggregates.sum(allOrders.![orderAmount])}"
                ></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </body>
</html>
